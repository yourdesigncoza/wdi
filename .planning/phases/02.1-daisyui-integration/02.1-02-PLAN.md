---
phase: 02.1-daisyui-integration
plan: 02
type: execute
wave: 2
depends_on: ["02.1-01"]
files_modified:
  - frontend/src/components/consent/ConsentModal.tsx
  - frontend/src/components/common/PrivacyPolicy.tsx
  - frontend/src/components/common/InfoOfficerContact.tsx
autonomous: true

must_haves:
  truths:
    - "ConsentModal uses DaisyUI modal-open pattern (not <dialog>) for non-dismissible POPIA consent"
    - "ConsentModal buttons use btn btn-primary and btn btn-outline classes"
    - "Error alerts use alert alert-error alert-soft across all components"
    - "Success alerts use alert alert-success alert-soft"
    - "Privacy policy sections render as DaisyUI cards"
    - "Info officer contact sections render as DaisyUI cards"
    - "Form controls use DaisyUI fieldset, select, and textarea classes"
    - "Loading states use DaisyUI loading spinner across all components"
    - "All links use link link-primary instead of hand-rolled underline styles"
    - "Zero hard-coded Tailwind color classes remain in any migrated component"
  artifacts:
    - path: "frontend/src/components/consent/ConsentModal.tsx"
      provides: "DaisyUI-migrated POPIA consent modal"
      contains: "modal modal-open"
    - path: "frontend/src/components/common/PrivacyPolicy.tsx"
      provides: "DaisyUI-migrated privacy policy page"
      contains: "card bg-base-100"
    - path: "frontend/src/components/common/InfoOfficerContact.tsx"
      provides: "DaisyUI-migrated info officer contact page with data request form"
      contains: "fieldset"
  key_links:
    - from: "frontend/src/components/consent/ConsentModal.tsx"
      to: "useConsent hook"
      via: "modal-open conditional class"
      pattern: "modal modal-open"
    - from: "frontend/src/components/common/InfoOfficerContact.tsx"
      to: "api.submitDataRequest"
      via: "form onSubmit handler"
      pattern: "handleSubmit"
---

<objective>
Migrate the three remaining frontend components (ConsentModal, PrivacyPolicy, InfoOfficerContact) from hand-rolled Tailwind utilities to DaisyUI semantic classes.

Purpose: Complete the DaisyUI migration across all existing frontend components, ensuring consistent theming and zero hard-coded colors.
Output: All 3 components using DaisyUI classes with full theme support and identical functionality to pre-migration state.
</objective>

<execution_context>
@/home/laudes/.claude/get-shit-done/workflows/execute-plan.md
@/home/laudes/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02.1-daisyui-integration/02.1-RESEARCH.md
@.planning/phases/02.1-daisyui-integration/02.1-01-SUMMARY.md
@frontend/src/components/consent/ConsentModal.tsx
@frontend/src/components/common/PrivacyPolicy.tsx
@frontend/src/components/common/InfoOfficerContact.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate ConsentModal to DaisyUI</name>
  <files>frontend/src/components/consent/ConsentModal.tsx</files>
  <action>
    Migrate ConsentModal.tsx from hand-rolled Tailwind to DaisyUI classes. This is the POPIA blocking consent modal -- it MUST NOT be dismissible via ESC or backdrop click.

    Specific migrations:

    1. **Modal wrapper**: Replace `<div className="fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4">` with `<div className="modal modal-open">`. DaisyUI's modal class handles fixed positioning, centering, and backdrop.

    2. **Modal box**: Replace `<div className="bg-white rounded-lg shadow-xl max-w-lg w-full p-6 sm:p-8">` with `<div className="modal-box max-w-lg">`. Keep role="dialog", aria-modal, aria-labelledby attributes.

    3. **Header icon background**: `bg-blue-100` -> `bg-primary/20`

    4. **Header icon color**: `text-blue-600` -> `text-primary`

    5. **Title**: `text-gray-900` -> remove (modal-box provides base text color)

    6. **Body text**: `text-gray-700` -> remove (inherits from theme). Keep `text-sm` and `space-y-3`.

    7. **Links**: Replace `className="text-blue-600 hover:text-blue-800 underline underline-offset-2"` with `className="link link-primary"` on both privacy policy and info officer links.

    8. **Separator**: `text-gray-300` -> `text-base-content/30`

    9. **Error alert**: Replace `<div className="mb-4 p-3 bg-red-50 border border-red-200 rounded text-sm text-red-700">` with `<div role="alert" className="alert alert-error alert-soft mb-4"><span>{error}</span></div>`

    10. **Action buttons wrapper**: Replace `<div className="flex flex-col sm:flex-row gap-3">` with `<div className="modal-action mt-0"><div className="flex flex-col sm:flex-row gap-3 w-full">`. The modal-action class provides proper alignment.

    11. **Accept button**: Replace ALL utility classes with `btn btn-primary flex-1`. Add loading spinner:
        ```tsx
        <button onClick={handleAccept} disabled={isSubmitting} className="btn btn-primary flex-1">
          {isSubmitting && <span className="loading loading-spinner loading-sm"></span>}
          {isSubmitting ? 'Processing...' : 'I Accept'}
        </button>
        ```
        DaisyUI's btn already handles disabled:opacity, cursor, focus ring, hover, transitions. Do NOT add those utilities.

    12. **Leave Site button**: Replace ALL utility classes with `btn btn-outline flex-1`.

    CRITICAL: Do NOT use `<dialog>` element. The ConsentModal MUST use `modal-open` CSS class approach because the native dialog allows ESC dismissal, which would bypass POPIA consent.

    CRITICAL: Remove ALL hard-coded color classes. After migration, `grep "gray-\|blue-\|red-\|bg-white\|bg-black" ConsentModal.tsx` must return zero matches (exception: `bg-primary/20` is fine as it uses DaisyUI semantic color).

    Preserve ALL existing logic: handleAccept, handleLeaveSite, isSubmitting state, error state, useConsent hook usage.
  </action>
  <verify>
    - `grep -c "gray-\|blue-\|red-\|bg-white\|bg-black" frontend/src/components/consent/ConsentModal.tsx` returns 0
    - `grep -c "modal modal-open" frontend/src/components/consent/ConsentModal.tsx` returns 1
    - `grep -c "btn btn-primary" frontend/src/components/consent/ConsentModal.tsx` returns 1
    - `grep -c "alert alert-error" frontend/src/components/consent/ConsentModal.tsx` returns 1
    - `grep -c "link link-primary" frontend/src/components/consent/ConsentModal.tsx` returns 2 (two links)
    - `grep -c "<dialog" frontend/src/components/consent/ConsentModal.tsx` returns 0 (no dialog element)
    - `cd frontend && npm run build` exits 0
  </verify>
  <done>ConsentModal fully migrated to DaisyUI: modal-open pattern (non-dismissible), btn classes, alert-error for errors, link-primary for links, loading spinner for submitting state. Zero hard-coded colors. All existing behavior preserved.</done>
</task>

<task type="auto">
  <name>Task 2: Migrate PrivacyPolicy and InfoOfficerContact to DaisyUI</name>
  <files>
    frontend/src/components/common/PrivacyPolicy.tsx
    frontend/src/components/common/InfoOfficerContact.tsx
  </files>
  <action>
    These two components share identical patterns (loading state, error state, back button, card sections, Go Back button). Migrate both using the same class mappings.

    **Shared migrations for BOTH files:**

    1. **Page background**: `bg-gray-50` -> `bg-base-200`

    2. **Loading state**: Replace `<div className="text-gray-500 text-lg">Loading...</div>` with `<span className="loading loading-spinner loading-lg text-primary"></span>`

    3. **Error card**: Replace `<div className="bg-white rounded-lg shadow p-6 max-w-md text-center">` with `<div className="card bg-base-100 shadow-sm max-w-md"><div className="card-body items-center text-center">`

    4. **Error text**: `text-red-600` -> `text-error`

    5. **Back link/button** (top of page): Replace `className="text-blue-600 hover:text-blue-800 text-sm mb-4 inline-flex items-center gap-1"` with `className="link link-primary text-sm mb-4 inline-flex items-center gap-1"`

    6. **All "Go Back" buttons**: Replace hand-rolled button styles with `btn btn-primary`

    7. **Page title**: `text-gray-900` -> `text-base-content`

    8. **Subtitle text**: `text-gray-500` -> `text-base-content/50`

    9. **Section cards**: Replace `<section className="bg-white rounded-lg shadow p-6 ...">` with `<section className="card bg-base-100 shadow-sm ..."><div className="card-body">`  and close with `</div></section>`. Keep any mb-6 spacing outside the card or on the section.

    10. **Section headings**: `text-gray-900` -> `text-base-content`. Can also use `card-title` class.

    **PrivacyPolicy-specific migrations:**

    11. **Policy sections** in the `.map()`: Each section becomes a card:
        ```tsx
        <section key={index} className="card bg-base-100 shadow-sm">
          <div className="card-body">
            <h2 className="card-title">{section.heading}</h2>
            <p className="text-base-content/70 leading-relaxed">{section.body}</p>
          </div>
        </section>
        ```

    12. **Body text**: `text-gray-700` -> `text-base-content/70`

    **InfoOfficerContact-specific migrations:**

    13. **Definition list text colors**:
        - `text-gray-500` (dt labels) -> `text-base-content/50`
        - `text-gray-900` (dd values) -> `text-base-content`
        - `text-gray-600` (descriptions) -> `text-base-content/60`

    14. **Email/phone/website links**: Replace `className="text-blue-600 hover:text-blue-800"` with `className="link link-primary"`

    15. **Success alert**: Replace `<div className="mb-4 p-3 bg-green-50 border border-green-200 rounded text-sm text-green-700">` with `<div role="alert" className="alert alert-success alert-soft mb-4"><span>{confirmation}</span></div>`

    16. **Error alert**: Replace `<div className="mb-4 p-3 bg-red-50 border border-red-200 rounded text-sm text-red-700">` with `<div role="alert" className="alert alert-error alert-soft mb-4"><span>{submitError}</span></div>`

    17. **Form field: Request Type**: Replace label + select pattern with DaisyUI fieldset:
        ```tsx
        <fieldset className="fieldset">
          <legend className="fieldset-legend">Request Type</legend>
          <select
            id="request-type"
            value={requestType}
            onChange={(e) => setRequestType(e.target.value as RequestType)}
            className="select w-full"
          >
            <option value="access">Access my data</option>
            <option value="correction">Correct my data</option>
            <option value="deletion">Delete my data</option>
          </select>
        </fieldset>
        ```
        Note: DaisyUI v5 has borders on by default -- do NOT add `select-bordered`.

    18. **Form field: Details textarea**: Replace label + textarea with DaisyUI fieldset:
        ```tsx
        <fieldset className="fieldset">
          <legend className="fieldset-legend">Details (optional)</legend>
          <textarea
            id="details"
            value={details}
            onChange={(e) => setDetails(e.target.value)}
            rows={4}
            placeholder="Provide additional details about your request..."
            className="textarea w-full"
          />
        </fieldset>
        ```

    19. **Submit button**: Replace all utility classes with `btn btn-primary w-full`. Add loading state:
        ```tsx
        <button type="submit" disabled={isSubmitting} className="btn btn-primary w-full">
          {isSubmitting && <span className="loading loading-spinner loading-sm"></span>}
          {isSubmitting ? 'Submitting...' : 'Submit Request'}
        </button>
        ```

    CRITICAL: Remove ALL hard-coded color classes from both files. After migration, neither file should contain gray-, blue-, red-, green-, or bg-white classes.

    Preserve ALL existing logic: useNavigate, useEffect data fetching, form submission, error/confirmation state management.
  </action>
  <verify>
    - `grep -c "gray-\|blue-\|red-\|green-\|bg-white" frontend/src/components/common/PrivacyPolicy.tsx` returns 0
    - `grep -c "gray-\|blue-\|red-\|green-\|bg-white" frontend/src/components/common/InfoOfficerContact.tsx` returns 0
    - `grep -c "card bg-base-100" frontend/src/components/common/PrivacyPolicy.tsx` returns > 0
    - `grep -c "card bg-base-100" frontend/src/components/common/InfoOfficerContact.tsx` returns > 0
    - `grep -c "fieldset" frontend/src/components/common/InfoOfficerContact.tsx` returns > 0
    - `grep -c "alert alert-success" frontend/src/components/common/InfoOfficerContact.tsx` returns 1
    - `grep -c "alert alert-error" frontend/src/components/common/InfoOfficerContact.tsx` returns 1
    - `grep -c "loading loading-spinner" frontend/src/components/common/PrivacyPolicy.tsx` returns 1
    - `grep -c "loading loading-spinner" frontend/src/components/common/InfoOfficerContact.tsx` returns > 0
    - `cd frontend && npm run build` exits 0
  </verify>
  <done>PrivacyPolicy and InfoOfficerContact fully migrated to DaisyUI: card layout for sections, btn classes for buttons, alert components for success/error, fieldset pattern for form controls, link-primary for links, loading spinners for all loading states. Zero hard-coded colors in either file. All existing behavior preserved.</done>
</task>

</tasks>

<verification>
1. `cd frontend && npm run build` passes with zero errors
2. Full hard-coded color scan across all migrated files:
   ```bash
   grep -rn "gray-\|blue-600\|red-\|green-\|bg-white\|bg-black" \
     frontend/src/components/consent/ConsentModal.tsx \
     frontend/src/components/common/PrivacyPolicy.tsx \
     frontend/src/components/common/InfoOfficerContact.tsx
   ```
   Must return zero matches.
3. DaisyUI class presence:
   ```bash
   grep -rn "btn btn-primary\|modal modal-open\|card bg-base\|alert alert-\|fieldset\|loading loading-\|link link-primary" \
     frontend/src/components/consent/ConsentModal.tsx \
     frontend/src/components/common/PrivacyPolicy.tsx \
     frontend/src/components/common/InfoOfficerContact.tsx
   ```
   Must return multiple matches across all three files.
4. No `<dialog>` element in ConsentModal: `grep "<dialog" frontend/src/components/consent/ConsentModal.tsx` returns nothing
5. All existing imports and hooks still present (useConsent, useNavigate, api service calls)
</verification>

<success_criteria>
- ConsentModal uses DaisyUI modal-open (non-dismissible), btn, alert, link, loading classes
- PrivacyPolicy uses DaisyUI card, btn, link, loading classes
- InfoOfficerContact uses DaisyUI card, btn, alert (success+error), fieldset, select, textarea, link, loading classes
- Zero hard-coded Tailwind color utilities in any of the three files
- All existing functionality preserved: consent flow, data fetching, form submission, navigation
- Build passes cleanly
</success_criteria>

<output>
After completion, create `.planning/phases/02.1-daisyui-integration/02.1-02-SUMMARY.md`
</output>
