---
phase: 02.1-daisyui-integration
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - frontend/package.json
  - frontend/src/index.css
  - frontend/index.html
  - frontend/src/components/ui/ThemeToggle.tsx
  - frontend/src/App.tsx
autonomous: true

must_haves:
  truths:
    - "DaisyUI v5 is installed as a devDependency"
    - "Tailwind CSS v4 loads DaisyUI via @plugin directive with corporate/business themes"
    - "Page renders with corporate theme by default (data-theme on html element)"
    - "Dark mode activates automatically when prefers-color-scheme: dark"
    - "ThemeToggle switches between corporate and business themes with localStorage persistence"
    - "LandingPage uses DaisyUI btn classes, not hand-rolled Tailwind button utilities"
    - "MainContent uses DaisyUI navbar and card components"
    - "Loading state uses DaisyUI loading spinner"
  artifacts:
    - path: "frontend/src/index.css"
      provides: "DaisyUI plugin configuration with themes"
      contains: "@plugin \"daisyui\""
    - path: "frontend/index.html"
      provides: "Default theme attribute"
      contains: "data-theme=\"corporate\""
    - path: "frontend/src/components/ui/ThemeToggle.tsx"
      provides: "Theme switching component"
      exports: ["ThemeToggle"]
    - path: "frontend/src/App.tsx"
      provides: "Migrated LandingPage, MainContent with DaisyUI classes"
      contains: "btn btn-primary"
  key_links:
    - from: "frontend/src/index.css"
      to: "daisyui"
      via: "@plugin directive"
      pattern: "@plugin \"daisyui\""
    - from: "frontend/src/components/ui/ThemeToggle.tsx"
      to: "document.documentElement"
      via: "setAttribute data-theme"
      pattern: "setAttribute.*data-theme"
    - from: "frontend/src/App.tsx"
      to: "ThemeToggle"
      via: "import and render in navbar"
      pattern: "import.*ThemeToggle"
---

<objective>
Install DaisyUI v5, configure the theme system, and migrate App.tsx components to DaisyUI classes.

Purpose: Establish the DaisyUI foundation so all existing and future components use semantic, themeable component classes instead of hand-rolled Tailwind utilities.
Output: Working DaisyUI integration with corporate/business themes, ThemeToggle component, and migrated App.tsx (LandingPage + MainContent).
</objective>

<execution_context>
@/home/laudes/.claude/get-shit-done/workflows/execute-plan.md
@/home/laudes/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02.1-daisyui-integration/02.1-RESEARCH.md
@frontend/package.json
@frontend/src/index.css
@frontend/index.html
@frontend/src/App.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install DaisyUI and configure theme system</name>
  <files>
    frontend/package.json
    frontend/src/index.css
    frontend/index.html
  </files>
  <action>
    1. Install DaisyUI v5 as devDependency:
       ```bash
       cd frontend && npm i -D daisyui@latest
       ```

    2. Update `frontend/src/index.css` to add DaisyUI plugin with theme configuration:
       ```css
       @import "tailwindcss";
       @plugin "daisyui" {
         themes: corporate --default, business --prefersdark;
       }
       ```
       The `--default` flag sets corporate as default theme. The `--prefersdark` flag auto-activates business theme when user's OS prefers dark mode.

    3. Update `frontend/index.html` to add data-theme attribute on the html element:
       ```html
       <html lang="en" data-theme="corporate">
       ```
       This is required for DaisyUI themes to apply. Without it, components render unstyled.

    4. Verify installation by running:
       ```bash
       cd frontend && npm run build
       ```
       Build must succeed with zero errors.
  </action>
  <verify>
    - `npm ls daisyui` shows daisyui installed
    - `frontend/src/index.css` contains `@plugin "daisyui"`
    - `frontend/index.html` contains `data-theme="corporate"`
    - `npm run build` exits 0
  </verify>
  <done>DaisyUI v5 installed, CSS configured with corporate/business themes, html element has data-theme attribute, build passes.</done>
</task>

<task type="auto">
  <name>Task 2: Create ThemeToggle and migrate App.tsx to DaisyUI</name>
  <files>
    frontend/src/components/ui/ThemeToggle.tsx
    frontend/src/App.tsx
  </files>
  <action>
    1. Create `frontend/src/components/ui/ThemeToggle.tsx` using DaisyUI's swap + theme-controller pattern:
       - State initialized from `localStorage.getItem('wdi-theme') || 'corporate'`
       - useEffect sets `document.documentElement.setAttribute('data-theme', theme)` and saves to localStorage
       - Uses `swap swap-rotate` class with `theme-controller` input
       - checkbox checked state maps to 'business' (dark), unchecked to 'corporate' (light)
       - Sun SVG icon for `swap-off` (light active), Moon SVG icon for `swap-on` (dark active)
       - See RESEARCH.md "Theme Toggle Component" section for exact implementation

    2. Migrate `LandingPage` component in App.tsx:
       - Page background: `bg-gray-50` -> `bg-base-200`
       - Header: Replace `<header className="bg-white shadow-sm border-b border-gray-200">` with `<div className="navbar bg-base-100 shadow-sm">`
         - Use `navbar-start` for title, `navbar-end` for ThemeToggle
       - Title text: `text-gray-900` -> `text-base-content`
       - Subtitle: `text-gray-600` -> `text-base-content/70`
       - Sign In button (inside SignInButton): Replace all utility classes with `btn btn-primary`
       - Sign Up button (inside SignUpButton): Replace all utility classes with `btn btn-outline`
       - Remove ALL hard-coded color classes (blue-600, gray-700, gray-300, etc.)

    3. Migrate `MainContent` component in App.tsx:
       - Loading state: Replace `<div className="text-gray-500 text-lg">Loading...</div>` with `<span className="loading loading-spinner loading-lg text-primary"></span>`
       - Page background: `bg-gray-50` -> `bg-base-200`
       - Header: Replace hand-rolled header with DaisyUI navbar:
         ```tsx
         <div className="navbar bg-base-100 shadow-sm">
           <div className="navbar-start">
             <span className="text-xl font-bold">WillCraft SA</span>
           </div>
           <div className="navbar-center hidden sm:flex">
             <p className="text-sm text-base-content/70">Create your legally compliant South African will</p>
           </div>
           <div className="navbar-end gap-2">
             <ThemeToggle />
             <UserButton />
           </div>
         </div>
         ```
       - Card: Replace `<div className="bg-white rounded-lg shadow p-6">` with:
         ```tsx
         <div className="card bg-base-100 shadow-sm">
           <div className="card-body">
         ```
       - Card text: `text-gray-700` -> `text-base-content/70`

    4. Add ThemeToggle to LandingPage navbar-end as well (so unauthenticated users can also toggle theme).

    5. Import ThemeToggle in App.tsx:
       ```tsx
       import { ThemeToggle } from './components/ui/ThemeToggle'
       ```

    CRITICAL: Remove ALL hard-coded Tailwind color classes (bg-blue-*, text-gray-*, border-gray-*, bg-white) from App.tsx. Every color must use DaisyUI semantic names (bg-primary, text-base-content, bg-base-100, bg-base-200, border-base-300). Mixing breaks theme switching.
  </action>
  <verify>
    - `frontend/src/components/ui/ThemeToggle.tsx` exists and exports ThemeToggle
    - `frontend/src/App.tsx` imports ThemeToggle
    - `grep -c "gray-\|blue-\|red-\|green-\|bg-white" frontend/src/App.tsx` returns 0 (no hard-coded colors remain)
    - `grep -c "btn btn-primary\|btn btn-outline\|navbar\|card bg-base" frontend/src/App.tsx` returns > 0
    - `npm run build` exits 0
  </verify>
  <done>ThemeToggle component created with localStorage persistence. App.tsx fully migrated: LandingPage uses DaisyUI navbar + btn classes, MainContent uses navbar + card + loading spinner. Zero hard-coded color classes remain in App.tsx.</done>
</task>

</tasks>

<verification>
1. `cd frontend && npm run build` passes with zero errors
2. `grep -rn "gray-\|blue-600\|bg-white" frontend/src/App.tsx` returns no matches (all colors are semantic)
3. `grep "daisyui" frontend/package.json` confirms dependency installed
4. `grep "@plugin" frontend/src/index.css` confirms DaisyUI configured
5. `grep "data-theme" frontend/index.html` confirms theme attribute set
6. ThemeToggle.tsx exports a named export
</verification>

<success_criteria>
- DaisyUI v5 installed and configured with Tailwind CSS v4 via @plugin directive
- corporate (light) and business (dark) themes configured with auto-detection
- ThemeToggle component provides manual theme switching with localStorage persistence
- App.tsx LandingPage and MainContent fully migrated to DaisyUI semantic classes
- Zero hard-coded Tailwind color utilities remain in App.tsx
- Build passes cleanly
</success_criteria>

<output>
After completion, create `.planning/phases/02.1-daisyui-integration/02.1-01-SUMMARY.md`
</output>
